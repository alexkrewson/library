<!DOCTYPE html>

<html>

    <head>

        <title>Library</title>

        <script>

            function Book(title, author, pages, read) {
                this.title = title
                this.author = author
                this.pages = pages
                this.read = read

                this.info = function () {
                    return title + " by " + author + ", " + pages + " pages, " + read
                }
            }

            book1 = new Book('The Fountainhead', 'Ayn Rand', '456', 'not yet read');
            book2 = new Book('The Hobbit', 'Tolkein', '9000', 'read');
            book3 = new Book('The Bible', 'God?', '9000', 'not yet read');

            

            let myLibrary = [book1, book2];



            function Print(book) {

                // if (document.getElementsByTagName("p")) {
                //     var myobj = document.getElementsByTagName("p");
                //     myobj.remove();
                // }
                var newLine = document.createElement("p");
                newLine.innerHTML = book.title + ", by " + book.author + ", " + book.pages + " pages, " + book.read;
                document.body.appendChild(newLine);

            }


            function addBookToLibrary(newbook) {

                myLibrary.push(newbook)
            }


           

            


        </script>

    </head>

    <body>


        <input type="text" name="array[]" value="" id="newtitle"><br>

        <input type="text" name="array[]" value="" id="newauthor"><br>

        <input type="text" name="array[]" value="" id="newpages"><br>

        <input type="text" name="array[]" value="" id="newreadstatus"><br>


        <button onclick="Click()">Try it</button>

        <div id="myDiv"></div>

    </body>


    <script>


        // let list = document.getElementById('myDiv');
        // list.innerHTML = 'okay'

        myLibrary.forEach(Print)




        function Click() {

            var title_input = document.getElementById('newtitle').value;

            var author_input = document.getElementById('newauthor').value;

            var pages_input = document.getElementById('newpages').value;

            var readstatus_input = document.getElementById('newreadstatus').value;


            newbook = new Book(title_input, author_input, pages_input, readstatus_input)

            addBookToLibrary(newbook)

            
            // var newnewLine = document.createElement("p");
            // newnewLine.innerHTML = input;
            // document.body.appendChild(newnewLine);

            Print(myLibrary[myLibrary.length - 1]);
            // myLibrary[0](Print);
        }




    </script>

</html>